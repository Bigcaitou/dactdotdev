<!doctype html><html class="h-full w-full font-sans" lang=zh-cn><head><meta charset=utf-8><link rel="shortcut icon" href=http://example.org/favicon.ico type=image/x-icon><meta name=viewport content="width=device-width,initial-scale=1"><title>- My New Hugo Site</title><meta property="og:title" content><meta property="og:description" content="[TOC]
dact.dev实现细节 docsify github pages 自定义域名 gittalk gitalk
* github page action * https://github.com/marketplace/actions/github-pages  cat index.html
<!-- gittalk组件 --> <link rel=&#34;stylesheet&#34; href=&#34;//unpkg.com/gitalk/dist/gitalk.css&#34;> <script src=&#34;//unpkg.com/gitalk/dist/gitalk.min.js&#34;></script> <script src=&#34;//unpkg.com/docsify/lib/plugins/gitalk.min.js&#34;></script> <script> var gitalk = new Gitalk({ clientID: 'GITTALK_CLIENTID', clientSecret: 'env.GITTALK_CLIENTSECRET', repo: 'dacaitou', owner: 'Bigcaitou', admin: ['Bigcaitou'], title: location.hash.match(/#(.*?)([?]|$)/)[1], id: location.hash.match(/#(.*?)([?]|$)/)[1], // Ensure uniqueness and length less than 50  }) // gitalk.render('gitalk-container') </script> clientID和clientSecret在公网中暴露的问题 之前担心clientID和clientSecret在公网中暴露会有安全问题，但是发现了官方issue里已经有人解答了：Bug？暴露 Client_id和Client_secret ？ #150
 @booxood:
 获取或修改 GitHub 用户数据，需要 token，为了拿到 token，除了需要 OAuth App 的 client_id 和 client_secret 外，还需要一个 Authorization Code。 这个 code 是 GitHub 登录授权完成时，在跳转回 redirect_uri 的查询参数拿到的， redirect_uri 必须是在 OAuth App 配置的 callback URL 域名下。 这样即使别人用了你的 client_id 和 client_secret ，跳转之后也拿不到 code，所以，有 client_id 和 client_secret 也做不了什么。   wordpress 数据迁移  官方文档：https://ubuntu."><meta property="og:type" content="article"><meta property="og:url" content="http://example.org/web/dact.dev/"><meta property="article:section" content="web"><meta name=twitter:card content="summary"><meta name=twitter:title content><meta name=twitter:description content="[TOC]
dact.dev实现细节 docsify github pages 自定义域名 gittalk gitalk
* github page action * https://github.com/marketplace/actions/github-pages  cat index.html
<!-- gittalk组件 --> <link rel=&#34;stylesheet&#34; href=&#34;//unpkg.com/gitalk/dist/gitalk.css&#34;> <script src=&#34;//unpkg.com/gitalk/dist/gitalk.min.js&#34;></script> <script src=&#34;//unpkg.com/docsify/lib/plugins/gitalk.min.js&#34;></script> <script> var gitalk = new Gitalk({ clientID: 'GITTALK_CLIENTID', clientSecret: 'env.GITTALK_CLIENTSECRET', repo: 'dacaitou', owner: 'Bigcaitou', admin: ['Bigcaitou'], title: location.hash.match(/#(.*?)([?]|$)/)[1], id: location.hash.match(/#(.*?)([?]|$)/)[1], // Ensure uniqueness and length less than 50  }) // gitalk.render('gitalk-container') </script> clientID和clientSecret在公网中暴露的问题 之前担心clientID和clientSecret在公网中暴露会有安全问题，但是发现了官方issue里已经有人解答了：Bug？暴露 Client_id和Client_secret ？ #150
 @booxood:
 获取或修改 GitHub 用户数据，需要 token，为了拿到 token，除了需要 OAuth App 的 client_id 和 client_secret 外，还需要一个 Authorization Code。 这个 code 是 GitHub 登录授权完成时，在跳转回 redirect_uri 的查询参数拿到的， redirect_uri 必须是在 OAuth App 配置的 callback URL 域名下。 这样即使别人用了你的 client_id 和 client_secret ，跳转之后也拿不到 code，所以，有 client_id 和 client_secret 也做不了什么。   wordpress 数据迁移  官方文档：https://ubuntu."><link rel=stylesheet href=/css/styles.pcss integrity=><script>localStorage.theme==='dark'||!('theme'in localStorage)&&window.matchMedia('(prefers-color-scheme: dark)').matches?document.documentElement.classList.add('dark'):document.documentElement.classList.remove('dark')</script></head><body class="flex flex-col items-center w-full"><main class="w-full sm:w-10/12 md:w-9/12 lg:w-7/12 xl:w-5/12 m-auto px-6"><header class="mt-9 mb-8"><div class="flex justify-between items-center"><div class="flex items-center"><input id=navbar_btn class=hidden type=checkbox>
<label for=navbar_btn class="menu-btn mr-4 items-center flex xl:hidden"><span class=navicon></span></label><a href=/ class="font-bold text-lg xl:text-2xl mr-auto">My New Hugo Site</a></div><div class="flex items-center"><div class="cursor-pointer ml-2"><svg id="dark_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 15.31 23.31 12 20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69zM12 18c-3.31.0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6z"/></svg></svg><svg id="light_mode_btn" class="hidden" width="18" height="18" viewBox="0 0 24 24"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24"><g><path d="M0 0h24v24H0V0z" fill="none"/></g><g><g><g><path d="M14 2c1.82.0 3.53.5 5 1.35C16.01 5.08 14 8.3 14 12s2.01 6.92 5 8.65C17.53 21.5 15.82 22 14 22 8.48 22 4 17.52 4 12S8.48 2 14 2z"/></g></g></g></svg></svg></div></div></div><nav id=navbar class="mt-3 hidden xl:block"><ul class=flex></ul></nav><nav id=navbar_sm class="mt-2 hidden"><ul></ul><hr class=my-4></nav></header><div id=content class=my-8><div class="collapsible-menu-wrapper my-8 p-4 border-2 rounded"><div class="flex justify-between"><span class=font-bold>Table of contents</span></div><div class="collapsible-menu text-sm ml-2"><div class=leading-6><nav id=TableOfContents><ul><li><a href=#dactdev实现细节>dact.dev实现细节</a></li><li><a href=#docsify>docsify</a></li><li><a href=#github-pages>github pages</a><ul><li><a href=#自定义域名>自定义域名</a></li></ul></li><li><a href=#gittalk>gittalk</a><ul><li><a href=#clientid和clientsecret在公网中暴露的问题>clientID和clientSecret在公网中暴露的问题</a></li></ul></li><li><a href=#wordpress-数据迁移>wordpress 数据迁移</a></li><li><a href=#图床>图床</a></li><li><a href=#cdn加速>cdn加速</a></li></ul></nav></div></div></div><div class=my-7><article><p>[TOC]</p><h2 id=dactdev实现细节>dact.dev实现细节</h2><h2 id=docsify>docsify</h2><h2 id=github-pages>github pages</h2><h3 id=自定义域名>自定义域名</h3><h2 id=gittalk>gittalk</h2><p><a href=https://github.com/gitalk/gitalk>gitalk</a></p><pre><code>* github page action
    * https://github.com/marketplace/actions/github-pages
</code></pre><p>cat <code>index.html</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=color:#75715e>&lt;!--</span> <span style=color:#a6e22e>gittalk组件</span> <span style=color:#f92672>--&gt;</span>
<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>link</span> <span style=color:#a6e22e>rel</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;stylesheet&#34;</span> <span style=color:#a6e22e>href</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;//unpkg.com/gitalk/dist/gitalk.css&#34;</span><span style=color:#f92672>&gt;</span>
<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;//unpkg.com/gitalk/dist/gitalk.min.js&#34;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#960050;background-color:#1e0010>/script&gt;</span>
<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span> <span style=color:#a6e22e>src</span><span style=color:#f92672>=</span><span style=color:#e6db74>&#34;//unpkg.com/docsify/lib/plugins/gitalk.min.js&#34;</span><span style=color:#f92672>&gt;&lt;</span><span style=color:#960050;background-color:#1e0010>/script&gt;</span>

<span style=color:#f92672>&lt;</span><span style=color:#a6e22e>script</span><span style=color:#f92672>&gt;</span>
    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>gitalk</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>new</span> <span style=color:#a6e22e>Gitalk</span>({
    <span style=color:#a6e22e>clientID</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;GITTALK_CLIENTID&#39;</span>,
    <span style=color:#a6e22e>clientSecret</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;env.GITTALK_CLIENTSECRET&#39;</span>,
    <span style=color:#a6e22e>repo</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;dacaitou&#39;</span>,
    <span style=color:#a6e22e>owner</span><span style=color:#f92672>:</span> <span style=color:#e6db74>&#39;Bigcaitou&#39;</span>,
    <span style=color:#a6e22e>admin</span><span style=color:#f92672>:</span> [<span style=color:#e6db74>&#39;Bigcaitou&#39;</span>],
    <span style=color:#a6e22e>title</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>hash</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/#(.*?)([?]|$)/</span>)[<span style=color:#ae81ff>1</span>],
    <span style=color:#a6e22e>id</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>location</span>.<span style=color:#a6e22e>hash</span>.<span style=color:#a6e22e>match</span>(<span style=color:#e6db74>/#(.*?)([?]|$)/</span>)[<span style=color:#ae81ff>1</span>],      <span style=color:#75715e>// Ensure uniqueness and length less than 50
</span><span style=color:#75715e></span>    })
    <span style=color:#75715e>// gitalk.render(&#39;gitalk-container&#39;)
</span><span style=color:#75715e></span><span style=color:#f92672>&lt;</span><span style=color:#960050;background-color:#1e0010>/script&gt;</span>
</code></pre></div><h3 id=clientid和clientsecret在公网中暴露的问题>clientID和clientSecret在公网中暴露的问题</h3><p>之前担心clientID和clientSecret在公网中暴露会有安全问题，但是发现了官方issue里已经有人解答了：<a href=https://github.com/gitalk/gitalk/issues/150>Bug？暴露 Client_id和Client_secret ？ #150</a></p><blockquote><p>@booxood:</p><ul><li>获取或修改 GitHub 用户数据，需要 token，为了拿到 token，除了需要 OAuth App 的 client_id 和 client_secret 外，还需要一个 Authorization Code。</li><li>这个 code 是 GitHub 登录授权完成时，在跳转回 redirect_uri 的查询参数拿到的， redirect_uri 必须是在 OAuth App 配置的 callback URL 域名下。</li><li>这样即使别人用了你的 client_id 和 client_secret ，跳转之后也拿不到 code，所以，有 client_id 和 client_secret 也做不了什么。</li></ul></blockquote><h2 id=wordpress-数据迁移>wordpress 数据迁移</h2><ul><li>官方文档：https://ubuntu.com/tutorials/install-and-configure-wordpress#6-configure-wordpress-to-connect-to-the-database</li><li>apache</li><li>mysql</li><li>wp recover</li><li>wp config</li><li>host nginx</li><li>theme → md</li></ul><h2 id=图床>图床</h2><p>//TODO</p><ul><li><a href=https://sspai.com/post/61624>https://sspai.com/post/61624</a></li></ul><h2 id=cdn加速>cdn加速</h2><p>//TODO</p></article></div></div></main><script src=/js/header.0b11855b871cb4d10c6c07b6723b9209f5c2bc9100735ab6ff47c8f9b76bb3d6ae41b488083b5fb15697987334039eb651b25c83228c29ac48a2bc168db8a894.js integrity="sha512-CxGFW4cctNEMbAe2cjuSCfXCvJEAc1q2/0fI+bdrs9auQbSICDtfsVaXmHM0A562UbJcgyKMKaxIorwWjbiolA=="></script><script src=/js/zooming.js integrity></script><script src=/js/code-copy-btn.js integrity></script></body></html>